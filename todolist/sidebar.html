<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TodoList</title>
    <link rel="stylesheet" href="sidebar.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>My TodoList</h1>
            <div class="header-buttons">
                <button id="exportBtn" class="export-btn" title="JSONにエクスポート">💾</button>
                <button id="settingsBtn" class="settings-btn">⚙️</button>
                <button id="addNewBtn" class="add-new-btn">+ 新規追加</button>
            </div>
        </div>

        <div id="todoContainer"></div>
    </div>

    <!-- 設定モーダル -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>設定</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="settingsSortSelect">並び順:</label>
                    <select id="settingsSortSelect">
                        <option value="order">表示順</option>
                        <option value="createdAt-asc">登録日時（昇順）</option>
                        <option value="createdAt-desc">登録日時（降順）</option>
                        <option value="priority-asc">優先度（昇順）</option>
                        <option value="priority-desc">優先度（降順）</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="settingsHideCompleted">
                        <input type="checkbox" id="settingsHideCompleted">
                        完了済みを非表示
                    </label>
                </div>

                <div class="form-group">
                    <button type="button" id="clearStorageBtn" class="clear-storage-btn">ストレージをクリア</button>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="settings-close-btn">閉じる</button>
            </div>
        </div>
    </div>

    <!-- 詳細・編集モーダル -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>TODO詳細</h2>
                <button class="close-btn">&times;</button>
            </div>
            <form id="detailForm" class="modal-body">
                <div class="detail-section">
                    <h3>タイトル</h3>
                    <input type="text" id="detailTitle" class="detail-input" required>
                </div>
                <div class="detail-section">
                    <h3>優先度</h3>
                    <select id="detailPriority" class="detail-select" required>
                        <option value="低">低</option>
                        <option value="中">中</option>
                        <option value="高">高</option>
                    </select>
                </div>
                <div class="detail-section">
                    <h3>ステータス</h3>
                    <select id="detailStatus" class="detail-select" required>
                        <option value="予定中">予定中</option>
                        <option value="進行中">進行中</option>
                        <option value="完了">完了</option>
                    </select>
                </div>
                <div class="detail-section">
                    <h3>詳細</h3>
                    <textarea id="detailDescription" class="detail-textarea" required rows="8"></textarea>
                </div>
                <div class="detail-section">
                    <h3>登録日時</h3>
                    <p id="detailCreatedAt" class="detail-readonly"></p>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="detail-close-btn">キャンセル</button>
                <button type="button" class="detail-save-btn">保存</button>
            </div>
        </div>
    </div>

    <!-- TODOモーダル -->
    <div id="todoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>新しいTODOを追加</h2>
                <button class="close-btn">&times;</button>
            </div>
            <form id="todoForm" class="modal-body">
                <div class="form-group">
                    <label for="modalTitle">タイトル *</label>
                    <input type="text" id="modalTitle" required placeholder="タイトルを入力">
                </div>
                <div class="form-group">
                    <label for="modalDetail">詳細 *</label>
                    <textarea id="modalDetail" required placeholder="詳細を入力" rows="8"></textarea>
                </div>
                <div class="form-group">
                    <label for="modalStatus">ステータス *</label>
                    <select id="modalStatus" required>
                        <option value="">選択してください</option>
                        <option value="予定中">予定中</option>
                        <option value="進行中">進行中</option>
                        <option value="完了">完了</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="modalPriority">優先度 *</label>
                    <select id="modalPriority" required>
                        <option value="">選択してください</option>
                        <option value="低">低</option>
                        <option value="中">中</option>
                        <option value="高">高</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-cancel">キャンセル</button>
                    <button type="submit" class="btn-submit">追加</button>
                </div>
            </form>
        </div>
    </div>

    <script src="sidebar.js"></script>
</body>
</html>
